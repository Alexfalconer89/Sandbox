{"job":{"components":{"196984":{"id":196984,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[196991],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Start","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196985":{"id":196985,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":176,"y":0,"width":32,"height":32,"inputConnectorIDs":[196991],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"Error_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Component","mapTo":"Error_Component"},"3":{"slot":3,"fromId":null,"fromName":"Duration","mapTo":"Error_Duration"},"4":{"slot":4,"fromId":null,"fromName":"Message","mapTo":"Error_Message"},"5":{"slot":5,"fromId":null,"fromName":"Row Count","mapTo":"Error_RowCount"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"Error_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"Error_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Purina re-engagement Pet avatar GUIDs output"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"insert into tbw.db.monitoring\n(monitoring_timestamp,client,process,description,sub_description,value)\nselect\n    current_timestamp::timestamp_ntz,\n    '${Database}',\n    'BUILD',\n    'NPP Re-engagemnt email GUIDs',\n    'SCRIPT',\n    'STARTED';\n\n--=================================\n--        MAIN GUID OUTPUTS\n--  GUIDs being output seperately as the main file outputs table have fields enclosed (\") by default\n-- This process to output a file to be loaded to sql server needs field to be unenclosed\n--=================================\n\ncopy into 's3://${Bucket}/FTP/BBW_Purina/Purina_Adestra/Re_engagement/NPP09176_pet_avatar_guids.csv'\nfrom (select * from ${Database}.jobs.NPP09176_pet_avatar_guids)\nstorage_integration = ${Database}_S3_SI\nFILE_FORMAT= (\n    TYPE=CSV\n    COMPRESSION=NONE,\n    RECORD_DELIMITER='\\r\\n',\n    FIELD_DELIMITER=',',\n    DATE_FORMAT='YYYY-MM-DD',\n    TIME_FORMAT='HH:NN:SS',\n    TIMESTAMP_FORMAT='YYYY-MM-DD HH24:MI:SS',\n    EMPTY_FIELD_AS_NULL = FALSE,\n    NULL_IF=(''),\n    ENCODING='UTF8'\n)\nOVERWRITE=TRUE\nSINGLE=TRUE\nHEADER=TRUE\nMAX_FILE_SIZE=5368709120;\n\n--=================================\n\ninsert into tbw.db.monitoring\n(monitoring_timestamp,client,process,description,sub_description,value)\nselect\n    current_timestamp::timestamp_ntz,\n    '${Database}',\n    'BUILD',\n    'NPP Re-engagemnt email GUIDs',\n    'SCRIPT',\n    'FINISHED';"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{},"failureConnectors":{},"unconditionalConnectors":{"196991":{"id":196991,"sourceID":196984,"targetID":196985}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{},"grids":{}},"info":{"name":"Purina re-engagement pet avatar GUIDs output","description":"","type":"ORCHESTRATION","tag":"886c38fe-b42f-492b-9b40-4f4f9894197b"}}