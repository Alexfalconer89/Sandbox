{"job":{"components":{"196520":{"id":196520,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":53728775,"x":112,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[196532],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Check Internet Access 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196521":{"id":196521,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-384,"y":-80,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[196539],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196524":{"id":196524,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":176,"y":-80,"width":32,"height":32,"inputConnectorIDs":[196535],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load to DB"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"insert into ${Database}.db.names\n    (\n        bbw_urn,\n        name_urn,\n        data_date,\n        reg_date,\n        title,\n        firstname,\n        lastname,\n        job_title,\n        company,\n        add1,\n        add2,\n        add3,\n        add4,\n        add5,\n        add6,\n        add7,\n        city,\n        state,\n        postcode,\n        country,\n        region,\n        dob,\n        gender,\n        phone_work,\n        phone_mobile,\n        phone_home,\n        phone_fax,\n        email,\n        www,\n        fullname,\n        initials,\n        source,\n        source_file,\n        source_urn,\n        source_date,\n        source_data_controller_id,\n        source_brand_id\n    ) \n    select \n        cast(cast(row_number() over(order by 1) as int) + nvl((select max(bbw_urn) from ${Database}.db.names),0) as int) as bbw_urn,\n        'REG_SHOPM|' || cast(vu.user_id as varchar),\n        optin_date,\n        registered_at,\n        coalesce(case when gender = 'M' then 'Mr' else '' end,''),\n        coalesce(first_name,''),\n        coalesce(last_name,''),\n        '',\n        '',        \n        '',     \n        '',                 \n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',         \n        '',\n        coalesce(born_on,cast(null as date)),\n        '',\n        '',\n        '',\n        '',\n        '',\n        coalesce(vu.email,''),\n        '',\n        '',\n        '',     \n        'REG_SHOPM',\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD'),\n        cast(vu.user_id as varchar),\n        current_date(),\n        nvl((select data_controller_id from ${Database}.db.ref_data_controller where data_controller like 'Nestl_ Purina Petcare (UK) Ltd'),-1),\n        nvl(case when rlike(vo.offer_title,'(.*)Kitten(.*)','i') then (select brand_id from ${Database}.db.ref_brand where lower(brand) = 'kitten code') \n             when rlike(vo.offer_title,'(.*)Puppy(.*)','i') then (select brand_id from ${Database}.db.ref_brand where lower(brand) = 'growing pup') \n        else null  end,-1)\n    from ${Database}.staging.shopmium_proplan_vets_users vu\n  left  join (select distinct user_id, offer_id from ${Database}.staging.shopmium_proplan_vets_coupons) vc on vc.user_id = vu.user_id\n  left  join (select distinct offer_id, offer_title from ${Database}.staging.shopmium_proplan_vets_offers) vo on vo.offer_id = vc.offer_id\n    where 'REG_SHOPM|' || cast(vu.user_id as varchar)||vu.email not in (select distinct name_urn||email from ${Database}.db.names where source = 'REG_SHOPM')     \n;\n\ninsert into ${Database}.db.names_dp\n    (\n        name_urn,\n        data_controller_id,\n        brand_id,\n        data_date,\n        dp_date,\n        dp_mailable,\n        dp_emailable,\n        dp_phoneable,\n        dp_smsable,\n        dp_newsletter,\n        source,\n        source_file,\n        source_urn,\n        source_date\n    ) \n        select        \n        'REG_SHOPM|' || cast(vu.user_id as varchar),\n        nvl((select data_controller_id from ${Database}.db.ref_data_controller where data_controller like 'Nestl_ Purina Petcare (UK) Ltd'),-1),\n        cast(null as int),\n        optin_date,\n        optin_date,\n        1,\n        1,\n        cast(null as int),\n        cast(null as int),\n        cast(null as int),\n        'REG_SHOPM',\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD'),      \n        cast(vu.user_id as varchar),\n        current_date()\n        from ${Database}.staging.shopmium_proplan_vets_users vu\n        left  join (select distinct user_id, offer_id, submission_id from ${Database}.staging.shopmium_proplan_vets_coupons) vc on vc.user_id = vu.user_id\n        left  join (select distinct offer_id, offer_title from ${Database}.staging.shopmium_proplan_vets_offers) vo on vo.offer_id = vc.offer_id   \n        where optin_code = 'a4ff1d8f-5700-4c95-9376-e240effb44fc'\n        and 'REG_SHOPM|' || cast(vu.user_id as varchar) not in (select distinct name_urn from ${Database}.db.names_dp where source = 'REG_SHOPM')\n;\n\ninsert into ${Database}.db.shopmium_proplan_vets_users\n    (\n        NAME_URN,\n        user_id,\n        email,\n        registered_at,\n        preferred_language_key,\n        first_name,\n        last_name,\n        gender, \n        born_on,\n        optin_code,\n        optin_date,\n        vaccination_date,\n        SOURCE,\n        SOURCE_FILE,\n        SOURCE_DATE\n    ) \n    select\n        'REG_SHOPM|' || cast(user_id as varchar)            ,\n        user_id,\n        email,\n        registered_at,\n        preferred_language_key,\n        first_name,\n        last_name,\n        gender, \n        born_on,\n        optin_code,\n        optin_date,\n        registered_at,\n        'REG_SHOPM',\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD'),\n        current_date()     \n    from ${Database}.staging.shopmium_proplan_vets_users\n    where cast(user_id as varchar)||email||optin_code  not in (select cast(user_id as varchar)||email||optin_code from ${Database}.db.shopmium_proplan_vets_users)\n;\n\ninsert into ${Database}.db.names_attributes\n    (\n        name_urn,\n        data_date,\n        channel,\n        registration_campaign,\n        marketing_referral,\n        source,\n        source_file,\n        source_urn,\n        source_date\n    ) \n     select \n        distinct \n        'REGG_SHOPM|'||cast(vu.user_id as varchar),\n        nvl(optin_date,''),\n        'NPP Shopmium API',\n        nvl(case \n             when rlike(vo.offer_title,'(.*)Kitten(.*)','i') then 'Vet Shopmium Kitten'\n             when rlike(vo.offer_title,'(.*)Puppy(.*)','i') then 'Vet Shopmium Puppy'\n            else null  end,''),\n        name as marketing_referral,\n        'REG_SHOPM' as source,\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD') as source_file,\n        cast(vu.user_id as varchar) as source_urn,\n        current_date() as source_date\n        from ${Database}.staging.shopmium_proplan_vets_users vu\n    left  join (select distinct user_id, offer_id, submission_id from ${Database}.staging.shopmium_proplan_vets_coupons) vc on vc.user_id = vu.user_id\n    left  join (select distinct submission_id, name from ${Database}.staging.shopmium_proplan_vets_receipts) vr on vc.submission_id = vr.submission_id\n    left  join (select distinct offer_id, offer_title from ${Database}.staging.shopmium_proplan_vets_offers) vo on vo.offer_id = vc.offer_id\n    where 'REG_SHOPM|' || cast(vu.user_id as varchar)||'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD') not in (select distinct name_urn||source_file from ${Database}.db.question where source = 'REG_SHOPM')  \n;\n\nmerge into ${Database}.db.shopmium_proplan_vets_coupons db\n    using \n    (\n     select         \n        'REG_SHOPM|' || cast(user_id as varchar)            ,\n        coupon_id, \n        submission_id,\n        coupon_status,\n        created_at,\n        updated_at,\n        user_id, \n        email,\n        offer_id,\n        accepted_at,\n        paid_at,\n        amount,\n        currency,\n        'REG_SHOPM',\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD'),\n        current_date()     \n    from ${Database}.staging.shopmium_proplan_vets_coupons   \n        \n    ) cp on db.coupon_id = cp.coupon_id \n        and db.submission_id = cp.submission_id \n        and db.offer_id = cp.offer_id \n        and db.user_id = cp.user_id \n    when matched then update \n    set \n        db.coupon_status = cp.coupon_status,\n        db.updated_at = cp.updated_at,\n        db.email = cp.email,\n        db.source_date = current_date\n    when not matched then insert \n    ( \n        NAME_URN,\n        coupon_id, \n        submission_id,\n        coupon_status,\n        created_at,\n        updated_at,\n        user_id, \n        email,\n        offer_id,\n        accepted_at,\n        paid_at,\n        amount,\n        currency,\n        SOURCE,\n        SOURCE_FILE,\n        SOURCE_DATE\n    ) \n    values \n    ( \n        'REG_SHOPM|' || cast(cp.user_id as varchar),\n        cp.coupon_id, \n        cp.submission_id,\n        cp.coupon_status,\n        cp.created_at,\n        cp.updated_at,\n        cp.user_id, \n        cp.email,\n        cp.offer_id,\n        cp.accepted_at,\n        cp.paid_at,\n        cp.amount,\n        currency,\n        'REG_SHOPM_1',\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD'),\n        current_date()     \n    )\n;\n\ninsert into ${Database}.db.shopmium_proplan_vets_receipts\n    (\n        NAME_URN,\n        coupon_id,\n        submission_id,\n        user_id, \n        email,\n        offer_id,\n        r_amount,\n        r_date,\n        chain_alias,\n      name ,\n        alias,\n        missing,\n        rejected,\n        line_identifier,\n        line_price,\n        line_quantity,\n        product_id,\n        product_price,\n        SOURCE,\n        SOURCE_FILE,\n        SOURCE_DATE\n    ) \n    select\n        'REG_SHOPM|' || cast(user_id as varchar)            ,\n        coupon_id,\n        submission_id,\n        user_id, \n        email,\n        offer_id,\n        r_amount,\n        r_date,\n        chain_alias,\n      name ,\n        alias,\n        missing,\n        rejected,\n        line_identifier,\n        line_price,\n        line_quantity,\n        product_id,\n        product_price,\n        'REG_SHOPM'     ,\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD')          ,\n        current_date()     \n    from ${Database}.staging.shopmium_proplan_vets_receipts\n    where submission_id not in (select submission_id from ${Database}.db.shopmium_proplan_vets_receipts)\n;\n\ninsert into ${Database}.db.shopmium_proplan_vets_offers\n    (\n        offer_id,\n        offer_title,\n        offer_description,\n        p_id,\n        product_name,\n        price,\n        currency,\n        SOURCE,\n        SOURCE_FILE,\n        SOURCE_DATE\n    ) \n    select\n        offer_id,\n        offer_title,\n        offer_description,\n        p_id,\n        product_name,\n        price,\n        currency,\n        'REG_SHOPM'     ,\n        'REG_SHOPM_'||to_char(current_date(),'YYYYMMDD')          ,\n        current_date()     \n    from ${Database}.staging.shopmium_proplan_vets_offers\n    where to_char(offer_id)||product_name not in (select to_char(offer_id)||product_name from ${Database}.db.shopmium_proplan_vets_offers)\n;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196525":{"id":196525,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1214167305,"x":-112,"y":-80,"width":32,"height":32,"inputConnectorIDs":[196529],"outputSuccessConnectorIDs":[196538],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OFFERS API"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Offers"}}}},"visible":true},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OFFER_ID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"OFFER_TITLE"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"OFFER_DESCRIPTION"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"P_ID"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"PRODUCT_NAME"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"PRICE"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENCY"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"PRODUCTS"}}}},"visible":true},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":true},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT ..."}}}},"visible":false},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"10000"}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Database}"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STAGING"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SHOPMIUM_PROPLAN_VETS_OFFERS_TEMP"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Bucket}"}}}},"visible":true},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"100":{"slot":100,"name":"Profile","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shopmium API"}}}},"visible":true},"499":{"slot":499,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Other"}}}},"visible":true},"500":{"slot":500,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"501":{"slot":501,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"502":{"slot":502,"name":"Bearer Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"503":{"slot":503,"name":"OAuth","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"504":{"slot":504,"name":"Key Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"505":{"slot":505,"name":"Key Value","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"506":{"slot":506,"name":"Add Authorization To","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Request Header"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196526":{"id":196526,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1666419752,"x":240,"y":0,"width":32,"height":32,"inputConnectorIDs":[196532],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Check Network Access 0"}}}},"visible":true},"2":{"slot":2,"name":"Address","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"https://matilliondevelopment.zendesk.com/api/v2/tickets.json"}}}},"visible":true},"3":{"slot":3,"name":"Port_number","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"2400"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196527":{"id":196527,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1214167305,"x":-288,"y":-80,"width":32,"height":32,"inputConnectorIDs":[196539],"outputSuccessConnectorIDs":[196533],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USERS API"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"User"}}}},"visible":true},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USER_ID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"EMAIL"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"REGISTERED_AT"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"PREFERRED_LANGUAGE_KEY"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"EXTERNAL_REF"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"FIRST_NAME"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"LAST_NAME"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"GENDER"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"BORN_ON"}}}},"visible":true},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":true},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT ..."}}}},"visible":false},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"1000"}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Database}"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STAGING"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SHOPMIUM_NESCAFE_USERS_TEMP"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Bucket}"}}}},"visible":true},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"100":{"slot":100,"name":"Profile","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shopmium API Testing"}}}},"visible":true},"499":{"slot":499,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Other"}}}},"visible":true},"500":{"slot":500,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"501":{"slot":501,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"502":{"slot":502,"name":"Bearer Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"503":{"slot":503,"name":"OAuth","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"504":{"slot":504,"name":"Key Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"505":{"slot":505,"name":"Key Value","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"506":{"slot":506,"name":"Add Authorization To","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Request Header"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196528":{"id":196528,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":64,"y":-80,"width":32,"height":32,"inputConnectorIDs":[196534],"outputSuccessConnectorIDs":[196535],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create from lookups"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"create or replace table ${Database}.staging.shopmium_proplan_vets_users_lookup as\nselect trim(src['UID'],'\"') as uid,trim(src['uuid'],'\"') as uuid,trim(src['complied_at'],'\"') as complied_at\nfrom\n\t(\n\tSELECT s.value,parse_json(s.value) as src\n\tFROM\n    \t(\n        \tselect user_id,complied_policies,trim(replace(replace(complied_policies,'\"uuid\"','\"UID\":\"'||user_id||'\",\"uuid\"'),'},{','},¦{'),'[]') as json_field\n        \tfrom ${Database}.staging.shopmium_proplan_vets_users_temp\n    \t) tst\n   \t\t, LATERAL FLATTEN (INPUT => SPLIT(json_field,',¦')) s\n\t) t\n;\n\ncreate or replace table ${Database}.staging.shopmium_proplan_vets_users as\nselect \n\tt.user_id\n    ,t.email\n    ,t.registered_at\n    ,t.preferred_language_key\n    ,t.first_name\n    ,t.last_name\n    ,t.gender\n    ,t.born_on\n    ,l.uuid as optin_code\n    ,l.complied_at as optin_date\nfrom ${Database}.staging.shopmium_proplan_vets_users_temp t\ninner join ${Database}.staging.shopmium_proplan_vets_users_lookup l on t.user_id = l.uid\n;\n\ncreate or replace table ${Database}.staging.shopmium_proplan_vets_offers_lookup as\nselect trim(src['OFFER_ID'],'\"') as offer_id,trim(src['id'],'\"') as p_id,trim(src['name'],'\"') as product_name,trim(src['price'],'\"') as price,trim(src['currency'],'\"') as currency\nfrom\n\t(\n\tSELECT s.value,parse_json(s.value) as src\n\tFROM\n    \t(\n        \tselect offer_id,products,trim(replace(replace(products,'\"id\"','\"OFFER_ID\":\"'||offer_id||'\",\"id\"'),'},{','},¦{'),'[]') as json_field\n        \tfrom ${Database}.staging.shopmium_proplan_vets_offers_temp\n    \t) tst\n   \t\t, LATERAL FLATTEN (INPUT => SPLIT(json_field,',¦')) s\n\t) t\n;\n\ncreate or replace table ${Database}.staging.shopmium_proplan_vets_offers as\nselect \n\tt.offer_id\n    ,t.offer_title\n    ,t.offer_description\n    ,l.p_id\n    ,l.product_name\n    ,l.price\n    ,l.currency\nfrom ${Database}.staging.shopmium_proplan_vets_offers_temp t\ninner join ${Database}.staging.shopmium_proplan_vets_offers_lookup l on t.offer_id = l.offer_id\n;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196530":{"id":196530,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1214167305,"x":-208,"y":-80,"width":32,"height":32,"inputConnectorIDs":[196533],"outputSuccessConnectorIDs":[196529],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"COUPONS API"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Coupons"}}}},"visible":true},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"COUPON_ID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"SUBMISSION_ID"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"COUPON_STATUS"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"STATUS_REASON"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"CREATED_AT"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"UPDATED_AT"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"USER_ID"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"U_REF"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"EMAIL"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"OFFER_ID"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"ACCEPTED_AT"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"PAID_AT"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"AMOUNT"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENCY"}}}},"visible":true},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":true},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT ..."}}}},"visible":false},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"10000"}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Database}"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STAGING"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SHOPMIUM_PROPLAN_VETS_COUPONS"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Bucket}"}}}},"visible":true},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"100":{"slot":100,"name":"Profile","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shopmium API"}}}},"visible":true},"499":{"slot":499,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Other"}}}},"visible":true},"500":{"slot":500,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"501":{"slot":501,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"502":{"slot":502,"name":"Bearer Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"503":{"slot":503,"name":"OAuth","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"504":{"slot":504,"name":"Key Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"505":{"slot":505,"name":"Key Value","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"506":{"slot":506,"name":"Add Authorization To","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Request Header"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"196531":{"id":196531,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1214167305,"x":-32,"y":-80,"width":32,"height":32,"inputConnectorIDs":[196538],"outputSuccessConnectorIDs":[196534],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"RECEIPTS API"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Receipts"}}}},"visible":true},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"COUPON_ID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"SUBMISSION_ID"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"USER_ID"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"U_REF"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"EMAIL"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"OFFER_ID"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"R_AMOUNT"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"R_DATE"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"CHAIN_ALIAS"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"NAME"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"ALIAS"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"MISSING"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"REJECTED"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"LINE_IDENTIFIER"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"LINE_PRICE"}}},"16":{"slot":16,"values":{"1":{"slot":1,"type":"STRING","value":"LINE_QUANTITY"}}},"17":{"slot":17,"values":{"1":{"slot":1,"type":"STRING","value":"PRODUCT_ID"}}},"18":{"slot":18,"values":{"1":{"slot":1,"type":"STRING","value":"PRODUCT_PRICE"}}}},"visible":true},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":true},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT ..."}}}},"visible":false},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"10000"}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Database}"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"STAGING"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SHOPMIUM_PROPLAN_VETS_RECEIPTS"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${Bucket}"}}}},"visible":true},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"100":{"slot":100,"name":"Profile","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shopmium API"}}}},"visible":true},"499":{"slot":499,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Other"}}}},"visible":true},"500":{"slot":500,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"501":{"slot":501,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"502":{"slot":502,"name":"Bearer Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"503":{"slot":503,"name":"OAuth","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"504":{"slot":504,"name":"Key Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"505":{"slot":505,"name":"Key Value","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"506":{"slot":506,"name":"Add Authorization To","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Request Header"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":true},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"196529":{"id":196529,"sourceID":196530,"targetID":196525},"196532":{"id":196532,"sourceID":196520,"targetID":196526},"196533":{"id":196533,"sourceID":196527,"targetID":196530},"196534":{"id":196534,"sourceID":196531,"targetID":196528},"196535":{"id":196535,"sourceID":196528,"targetID":196524},"196538":{"id":196538,"sourceID":196525,"targetID":196531}},"failureConnectors":{},"unconditionalConnectors":{"196539":{"id":196539,"sourceID":196521,"targetID":196527}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{"testvar":{"definition":{"name":"testvar","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"\"q3KM3x3rw4rJz7GEMnLyw5twFLqKGxtzzJrq9s6urqGKF\""}},"grids":{}},"info":{"name":"Shopmium load","description":"","type":"ORCHESTRATION","tag":"c6e5c2c4-bcfe-4618-8c5f-f2dd08f39796"}}